/*! app 2018-06-28 */

var app=angular.module("App",["ngRoute","ngCookies"]);function confirmExit(){return"You have attempted to leave this page. Are you sure?"}app.config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){$routeProvider.when("/login",{templateUrl:"view/login.html",controller:"loginController"}).when("/",{templateUrl:"view/home.html",controller:"homeController"}).otherwise({redirectTo:"/login"})}]),app.run(["$rootScope","$location","$cookieStore","$http",function($rootScope,$location,$cookieStore,$http,$locationProvider){$rootScope.globals=$cookieStore.get("globals")||{},$rootScope.$on("$locationChangeStart",function(event,next,current){$rootScope.globals.username||$rootScope.globals.password||$location.path("/login")})}]),window.onbeforeunload=confirmExit,app.controller("homeController",function($scope,$rootScope,$location,$http){$scope.userName="User",$http.get("data/menu.json").then(function(response){$scope.Data=angular.fromJson(response.data.menu)}),$scope.changePage=function(pageURL){$scope.pageurl="view/"+pageURL}}),app.controller("loginController",function($scope,$rootScope,$location,$http,$cookieStore){$scope.users=[],$scope.error=!1,$http.get("data/login.json").then(function(response){$scope.users=angular.fromJson(response.data.users)}),$scope.submit=function(){$scope.user.ID&&$scope.user.password&&angular.forEach($scope.users,function(value,key){value.userID===$scope.user.ID&&value.password===$scope.user.password?($scope.error=!1,$rootScope.globals.username=$scope.user.ID,$rootScope.globals.password=$scope.user.password,$cookieStore.put("username",$scope.user.ID),$location.path("/")):$scope.error=!0})}}),app.controller("categoryController",function($q,$scope,$rootScope,$location,$http){$http.get("data/product-list.json").then(function(response){$scope.categories=angular.fromJson(response.data.categories)})}),app.controller("productController",function($q,$scope,$rootScope,$location,$http){$scope.accordianHeader=[],$scope.products=[],$http.get("data/product-list.json").then(function(response){$scope.products=angular.fromJson(response.data.products)})}),app.controller("subcategoryController",function($q,$scope,$rootScope,$location,$http){$scope.pagename="Category"});